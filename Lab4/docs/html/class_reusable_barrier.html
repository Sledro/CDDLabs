<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Lab 4: ReusableBarrier Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="semaphore.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Lab 4
   &#160;<span id="projectnumber">0.6</span>
   </div>
   <div id="projectbrief">Reusable barrier using turnstiles as in The Little Book of Semaphores chapter 3.7.7.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="class_reusable_barrier-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">ReusableBarrier Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>NOTE: These comments are notes to self and taken from The Little Book of Semaphores chapter 3.7.7.  
 <a href="class_reusable_barrier.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_reusable_barrier_8h_source.html">ReusableBarrier.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae383e4b8c0407a21bbf47c6fccec6b15"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_reusable_barrier.html#ae383e4b8c0407a21bbf47c6fccec6b15">ReusableBarrier</a> (int count)</td></tr>
<tr class="memdesc:ae383e4b8c0407a21bbf47c6fccec6b15"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor, takes in the number of threads from the main driver.  <a href="#ae383e4b8c0407a21bbf47c6fccec6b15">More...</a><br /></td></tr>
<tr class="separator:ae383e4b8c0407a21bbf47c6fccec6b15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3545683b5538142ca6377c3a95552f2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_reusable_barrier.html#ad3545683b5538142ca6377c3a95552f2">Wait</a> ()</td></tr>
<tr class="memdesc:ad3545683b5538142ca6377c3a95552f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait runs Phase one and Phase two.  <a href="#ad3545683b5538142ca6377c3a95552f2">More...</a><br /></td></tr>
<tr class="separator:ad3545683b5538142ca6377c3a95552f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9335a815242eff0807f91b63416d4e56"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_reusable_barrier.html#a9335a815242eff0807f91b63416d4e56">Phase1</a> ()</td></tr>
<tr class="memdesc:a9335a815242eff0807f91b63416d4e56"><td class="mdescLeft">&#160;</td><td class="mdescRight">Barrier 1.  <a href="#a9335a815242eff0807f91b63416d4e56">More...</a><br /></td></tr>
<tr class="separator:a9335a815242eff0807f91b63416d4e56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32b1701adeedd4d968118a152cd3f47d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_reusable_barrier.html#a32b1701adeedd4d968118a152cd3f47d">Phase2</a> ()</td></tr>
<tr class="memdesc:a32b1701adeedd4d968118a152cd3f47d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Barrier 2.  <a href="#a32b1701adeedd4d968118a152cd3f47d">More...</a><br /></td></tr>
<tr class="separator:a32b1701adeedd4d968118a152cd3f47d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a57c8cdb580366e8516d7af2f55fb3ddb"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="class_semaphore.html">Semaphore</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_reusable_barrier.html#a57c8cdb580366e8516d7af2f55fb3ddb">mutex</a></td></tr>
<tr class="separator:a57c8cdb580366e8516d7af2f55fb3ddb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fdd613c9544878112266f8f65797570"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="class_semaphore.html">Semaphore</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_reusable_barrier.html#a1fdd613c9544878112266f8f65797570">turnstile</a></td></tr>
<tr class="separator:a1fdd613c9544878112266f8f65797570"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a010da417ee66e6103e57004f9dbe2347"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="class_semaphore.html">Semaphore</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_reusable_barrier.html#a010da417ee66e6103e57004f9dbe2347">turnstile2</a></td></tr>
<tr class="separator:a010da417ee66e6103e57004f9dbe2347"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>NOTE: These comments are notes to self and taken from The Little Book of Semaphores chapter 3.7.7. </p>
<p>Reusable barrier using turnstiles as in The Little Book of Semaphores chapter 3.7.7 Barrier objects in Python When the nth thread arrives, it preloads the first turnstile with one signal for each thread. When the nth thread passes the turnstile, it “takes the last token” and leaves the turnstile locked again. The same thing happens at the second turnstile, which is unlocked when the last thread goes through the mutex. This solution is sometimes called a two-phase barrier because it forces all the threads to wait twice: once for all the threads to arrive and again for all the threads to execute the critical section. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ae383e4b8c0407a21bbf47c6fccec6b15"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae383e4b8c0407a21bbf47c6fccec6b15">&#9670;&nbsp;</a></span>ReusableBarrier()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ReusableBarrier::ReusableBarrier </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>count</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor, takes in the number of threads from the main driver. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">count</td><td>- number of threads` </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void. </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a9335a815242eff0807f91b63416d4e56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9335a815242eff0807f91b63416d4e56">&#9670;&nbsp;</a></span>Phase1()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ReusableBarrier::Phase1 </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Barrier 1. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">null`</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void. </dd></dl>

</div>
</div>
<a id="a32b1701adeedd4d968118a152cd3f47d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32b1701adeedd4d968118a152cd3f47d">&#9670;&nbsp;</a></span>Phase2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ReusableBarrier::Phase2 </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Barrier 2. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">null`</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void. </dd></dl>

</div>
</div>
<a id="ad3545683b5538142ca6377c3a95552f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3545683b5538142ca6377c3a95552f2">&#9670;&nbsp;</a></span>Wait()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ReusableBarrier::Wait </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wait runs Phase one and Phase two. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">null`</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void. </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a57c8cdb580366e8516d7af2f55fb3ddb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57c8cdb580366e8516d7af2f55fb3ddb">&#9670;&nbsp;</a></span>mutex</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;<a class="el" href="class_semaphore.html">Semaphore</a>&gt; ReusableBarrier::mutex</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a1fdd613c9544878112266f8f65797570"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1fdd613c9544878112266f8f65797570">&#9670;&nbsp;</a></span>turnstile</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;<a class="el" href="class_semaphore.html">Semaphore</a>&gt; ReusableBarrier::turnstile</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a010da417ee66e6103e57004f9dbe2347"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a010da417ee66e6103e57004f9dbe2347">&#9670;&nbsp;</a></span>turnstile2</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;<a class="el" href="class_semaphore.html">Semaphore</a>&gt; ReusableBarrier::turnstile2</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="_reusable_barrier_8h_source.html">ReusableBarrier.h</a></li>
<li><a class="el" href="_reusable_barrier_8cpp.html">ReusableBarrier.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
